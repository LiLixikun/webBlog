<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        // var obj1 = { a: 1, b: 2, c: 3 };
        // var obj2 = obj1;
        // obj2.b = 5;
        // console.log(obj2);
        // console.log(obj1);
        // console.log(obj1 === obj2);

        var obj1 = {
            a: 1,
            b: 2,
            c: 3,
            d: {
                a: "深层次",
                b: "name"
            }
        };

        function cloneObj(arg) {
            var obj = {};
            for (const key in arg) {
                obj[key] = arg[key]
            }
            return obj;
        }

        var obj2 = cloneObj(obj1);

        var obj3 = Object.assign({}, obj1);

        obj2.a = 10;
        obj2.d.b = "name11";

        console.log(obj1.a);  //1
        console.log(obj2.a);  //10
        console.log(obj3.a);  //1
        console.log(obj1.d.b); //name11
        console.log(obj2.d.b); //name11
        console.log(obj3.d.b); //name11

        // var obj2 = Object.assign({}, obj1);
        // obj2.b = 10;
        // console.log(obj2);
        // console.log(obj1);
        // console.log(obj1 === obj2);

        var array = [1, 2, 3];
        var array_shallow = array;
        var array_concat = array.concat();
        var array_slice = array.slice(0);
        array[3] = 333;
        array_concat[3] = 33333;
        array_slice[3] = 1111111111111111
        console.log(array_shallow);
        console.log(array);
        console.log(array_concat);
        console.log(array_slice);



        var people = {
            name: 'xxx',
            friends: ['people1', 'people2', 'peopple3'],
            info: {
                name: '133xxxxxxxx',
                age: '18',
                sex: 'man'
            }
        }
        function deepCopy(initObj, c) {
            var obj = c || {};
            for (var i in initObj) {
                if (typeof initObj[i] === 'object') {
                    obj[i] = (initObj[i].constructor === Array) ? [] : {};
                    deepCopy(initObj[i], obj[i]);
                } else {
                    obj[i] = initObj[i];
                }
            }
            return obj;
        }
        var person = deepCopy(people);
        person.info.name = "tom";
        console.log(person.info.name);
        console.log(people.info.name);

        var result = JSON.parse(JSON.stringify(people))


        var obj = { a: 1, b: 2, c: 3 };
        var depObj = Object.assign({}, obj);
        depObj.b = 2000;
        console.log(obj.b); //2
        console.log(depObj.b);  //2000


        function deepCopy(obj) {
            var copy = Object.create(Object.getPrototypeOf(obj));
            var propNames = Object.getOwnPropertyNames(obj);

            propNames.forEach(function (name) {
                var desc = Object.getOwnPropertyDescriptor(obj, name);
                Object.defineProperty(copy, name, desc);
            });

            return copy;
        }

        var obj1 = { a: 1, b: { bc: 50, dc: 100, be: { bea: 1 } } };
        var obj2 = deepCopy(obj1);
        obj1.a = 20;
        console.log(obj1.a)
        console.log(obj2.a)
    </script>
</body>

</html>